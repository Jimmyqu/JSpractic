<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body >

<script>
    // fetch('https://www.easy-mock.com/mock/5a769ac93c4ca20b4f1dd692/example_copy/card').then((response)=>response.json()).then(data=>console.log(data))
    //fetch返回ReadableStream，需要转为json再使用
    // x.then(data=>console.log(data))

    let  timeout = function (val,ms) {
        return new Promise((resolve, reject)=>{
            setTimeout(()=>{
                resolve(val)
            },ms)

        })
    }

    timeout(10,2000).then(res=>console.log(res))




    let getFetch=function (url,parms) {
        return new Promise((resolve, reject) => {
            fetch(url,{
                method:'get'
            }).then(res=>{
                console.log(res)
                return res.json()
            })
              .then(data=>{
                  resolve(data)
              })
              .catch(e=>{
                  reject(e)
              })
        })
    }
    let url = 'https://www.easy-mock.com/mock/5a769ac93c4ca20b4f1dd692/example_copy/card'
    //getFetch(url).then(res=>console.log(res)).catch(e=>console.log(e))



    async function getAFetch() {
        return await getFetch(url)
    }

    getAFetch().then(data=>console.log(data))
</script>
</body>
</html>