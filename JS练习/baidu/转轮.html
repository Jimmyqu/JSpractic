<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta
      name="viewport"
      content="width = device-width, initial-scale = 1.0, maximum-scale = 1.0, user-scalable = 0"
    />
    <style>
      .wrapper {
        width: 400px;
        height: 400px;
        margin: 100px auto;
        position: relative;
      }
      .wrapper > div{
        width: 200px;
        height: 200px;
      }

      img {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <div class="box">
        <img src="https://thumbs.dreamstime.com/z/%E6%8A%93%E9%98%84%E8%BD%AC%E8%BD%AE-d%E4%BE%8B%E8%AF%81-75035936.jpg" alt="">
      </div>
      <button id="btn">开始</button>
    </div>
    <script>
      const box = document.querySelector('.box')
      const btn = document.querySelector('#btn')
      
      btn.addEventListener('click', ()=>{
        btn.disabled = true
        let speed = 300
        let deg = 0

        const prize = Math.ceil(Math.random() * 12)
        let step = (10 + prize) / 10

        setInterval(() => {
          if(speed > 0) {
            speed --
            deg = deg + speed / (10 + step);
            box.style = `transform: rotate(${deg}deg)`
            if(speed === 0) {
              btn.disabled = false
            }
          }
        }, 20)
      })
    </script>
  </body>
</html>
