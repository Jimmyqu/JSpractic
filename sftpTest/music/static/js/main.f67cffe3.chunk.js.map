{"version":3,"sources":["static/play.svg","static/puase.svg","static/setting.svg","static/playb.svg","static/next.svg","static/pauseb.svg","static/pre.svg","static/loop.svg","static/needle.png","store/them.js","store/play.js","utils/hooks.js","store/index.js","apis/http.js","component/loading.tsx","pages/search/search.tsx","pages/skin/skin.tsx","pages/playList/playList.tsx","pages/srcollPage/index.tsx","utils/utils.js","component/player/index.tsx","pages/App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","useThem","useState","themColor","setThem","usePlay","songs","id","playInfo","setplayInfo","isPlaying","setPlaying","isPause","setPause","showStauts","setStauts","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useLocalStorage","playList","setPlayList","Store","createContainer","hooks","reduce","acc","hook","composeHooks","process","service","axios","create","baseURL","timeout","interceptors","request","use","config","Promise","reject","response","res","data","code","Toast","offline","Loading","props","show","text","className","style","display","defaultProps","SongList","styled","div","p","ids","color","TabView","store","useContainer","history","useHistory","height","innerHeight","tabs","title","sub","tabBarUnderlineStyle","border","tabBarActiveTextColor","initialPage","onChange","tab","index","onTabClick","backgroundColor","resList","map","onClick","a","async","http","get","params","some","song","name","ar","artists","handleSelectSong","fontSize","paddingBottom","length","slice","album","noteList","push","pathname","trackCount","creator","nickname","playCount","Math","floor","TagView","hotList","val","changShow","first","marginLeft","marginTop","HomeView","changText","resShow","initList","initRes","initnote","handleSubmit","offset","type","limit","keywords","then","result","catch","e","playlists","useEffect","hots","position","top","left","width","icon","onLeftClick","go","onSubmit","placeholder","ref","el","Pcolor","Item","AnimatedWarpper","ImgWarpper","d","url","ImgWarpperContent","ListWarpper","match","useRouteMatch","listData","InitSongList","setD","start","setStart","playlist","fetchData","onTouchStart","persist","changedTouches","pageY","handleTouchStart","onTouchMove","move_distance","nativeEvent","path","scrollTop","handleTouchMove","onTouchEnd","handleTouchEnd","coverImgUrl","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","margin","direction","padding","textIndent","round","flex","fontWeight","paddingTop","textAlign","verticalAlign","borderRadius","src","avatarUrl","alt","tracks","al","myRef","React","useRef","current","clientHeight","overflow","currentTarget","transform","children","transitionDuration","img","addZero","s","formatTime","minute","second","PlayerWarpper","isFull","FullPlayer","FullPlayerHeader","rotate","keyframes","FullPlayerContent","bgImg","isRotate","FullPlayerPorcess","prcent","FullPlayerFooter","MiniPlayer","ListPlayer","Player","audioEl","nowTime","setTime","MiniPlayer1","picUrl","puase","play","setting","FullPlayer1","needle","duration","pre","itemIndex","forEach","privileges","handlePre","playb","pauseb","next","handleNext","loop","showComponent","list","filter","handleDelSong","pause","onTimeUpdate","target","currentTime","hanldePlaying","lazy","MusicView","TestView","AnimationApp","withRouter","location","TransitionGroup","childFactory","child","cloneElement","classNames","action","CSSTransition","exact","component","SkinView","SearchView","PlayListView","scrollView","App","fallback","Boolean","hostname","ReactDOM","render","Provider","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f67cffe3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/play.6abec504.svg\";","module.exports = __webpack_public_path__ + \"static/media/puase.318c6233.svg\";","module.exports = __webpack_public_path__ + \"static/media/setting.07411af7.svg\";","module.exports = __webpack_public_path__ + \"static/media/playb.c8b71479.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.0f73688a.svg\";","module.exports = __webpack_public_path__ + \"static/media/pauseb.1f0493fe.svg\";","module.exports = __webpack_public_path__ + \"static/media/pre.c5a14a85.svg\";","module.exports = __webpack_public_path__ + \"static/media/loop.df6bb24b.svg\";","module.exports = __webpack_public_path__ + \"static/media/needle.047d988b.png\";","import { useState } from \"react\"\r\n\r\nconst useThem = () => {\r\n    // Let's set a legen -- wait for it -- dary default name that updates on form submit\r\n    const [themColor, setThem] = useState(\"#e5473c\");\r\n    return {\r\n        themColor,\r\n        setThem\r\n    };\r\n}\r\n\r\nexport default useThem","import { useState } from \"react\"\r\nimport { useLocalStorage } from '../utils/hooks'\r\nconst usePlay = () => {\r\n    // Let's set a legen -- wait for it -- dary default name that updates on form submit\r\n\r\n    let obj = {\r\n        songs: [{\r\n            id: 0\r\n        }]\r\n    }\r\n    const [playInfo, setplayInfo] = useState(obj);\r\n    const [isPlaying, setPlaying] = useState(false);\r\n    const [isPause, setPause] = useState(false);\r\n    const [showStauts, setStauts] = useState('min');\r\n    // const [playList, setPlayList] = useState()\r\n    const [playList, setPlayList] = useLocalStorage('playList', []);\r\n\r\n\r\n\r\n    return {\r\n        playInfo,\r\n        setplayInfo,\r\n        isPlaying,\r\n        setPlaying,\r\n        showStauts,\r\n        setStauts,\r\n        isPause,\r\n        setPause,\r\n        playList,\r\n        setPlayList\r\n    };\r\n}\r\n\r\nexport default usePlay","import { useState } from \"react\"\r\n\r\nexport function useLocalStorage(key, initialValue) {\r\n    // State to store our value\r\n    // Pass initial state function to useState so logic is only executed once\r\n    const [storedValue, setStoredValue] = useState(() => {\r\n        try {\r\n            // Get from local storage by key\r\n            const item = window.localStorage.getItem(key);\r\n            // Parse stored json or if none return initialValue\r\n            return item ? JSON.parse(item) : initialValue;\r\n        } catch (error) {\r\n            // If error also return initialValue\r\n            console.log(error);\r\n            return initialValue;\r\n        }\r\n    });\r\n\r\n    // Return a wrapped version of useState's setter function that ...\r\n    // ... persists the new value to localStorage.\r\n    const setValue = value => {\r\n        try {\r\n            // Allow value to be a function so we have same API as useState\r\n            const valueToStore =\r\n                value instanceof Function ? value(storedValue) : value;\r\n            // Save state\r\n            setStoredValue(valueToStore);\r\n            // Save to local storage\r\n            window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n        } catch (error) {\r\n            // A more advanced implementation would handle the error case\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    return [storedValue, setValue];\r\n}","import { createContainer } from 'unstated-next'\r\nimport useThem from './them'\r\nimport usePlay from './play'\r\n// import useUer from './user'\r\n\r\n\r\nconst composeHooks = (...hooks) => () => hooks.reduce((acc, hook) => ({...acc, ...hook() }), {})\r\n\r\nconst Store = createContainer(composeHooks(useThem, usePlay))\r\n\r\nexport {\r\n    Store,\r\n}","import axios from 'axios'\r\nimport { Toast } from 'antd-mobile'\r\n// import store from '../store'\r\n// import Cookie from 'js-cookie'\r\n\r\n\r\n// 创建axios实例\r\n\r\nconsole.log(process.env.NODE_ENV)\r\n    // let service;\r\n\r\n// if (process.env.NODE_ENV == 'development') {\r\nlet service = axios.create({\r\n        // url_base: 'http://192.168.0.20:9090',\r\n        baseURL: 'http://api.mtnhao.com/',\r\n        timeout: 5000 // 请求超时时间\r\n    })\r\n    // } else {\r\n    // service = axios.create({\r\n    //     url_base: 'https://www.prosuntech.com',\r\n    //     baseURL: 'https://www.prosuntech.com/pst-oa-api/v2',\r\n    //     timeout: 5000 // 请求超时时间\r\n    // })\r\n    // }\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(config => {\r\n    // config.headers['access_token'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    return config\r\n}, error => {\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n})\r\n\r\n// respone拦截器\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const res = response.data\r\n        if (res.code !== 200) {\r\n            Toast.offline('Network connection failed !!!', 1);\r\n\r\n            // 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\r\n            if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n                // MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\r\n                //     confirmButtonText: '重新登录',\r\n                //     cancelButtonText: '取消',\r\n                //     type: 'warning'\r\n                // }).then(() => {\r\n                //     store.dispatch('FedLogOut').then(() => {\r\n                //         location.reload() // 为了重新实例化vue-router对象 避免bug\r\n                //     })\r\n                // })\r\n            }\r\n            return Promise.reject('error')\r\n        } else {\r\n            return response.data\r\n        }\r\n    },\r\n    error => {\r\n        console.log('err11' + error) // for debug\r\n        Toast.offline('Network connection failed !!!', 1);\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nexport default service","\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Loading = (props: any) => {\r\n\r\n    console.log(props)\r\n    const { show, text } = props\r\n    return (\r\n        <div className=\"loading-box\" style={{ display: show ? 'block' : 'none' }}>\r\n            <span className=\"loading\">{text}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nLoading.defaultProps = {\r\n    text: '努力加载中...',\r\n    show: true\r\n}\r\n\r\nLoading.propTypes = {\r\n    show: PropTypes.bool,\r\n    text: PropTypes.string\r\n  }\r\n\r\nexport default Loading","import React, { useState, useEffect } from 'react';\r\nimport { NavBar, Tag, Icon, SearchBar, Tabs } from 'antd-mobile';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Store } from \"../../store/index\";\r\n// @ts-ignore\r\nimport http from '../../apis/http'\r\nimport { callbackify } from 'util';\r\nimport styled from 'styled-components'\r\n\r\ninterface activeProps {\r\n    ids: boolean;\r\n    color:string\r\n}\r\n\r\nconst SongList = styled.div<activeProps>`\r\n    padding:5px 10px;\r\n    height:60px;\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content: center;\r\n    color:${p=>p.ids?p.color:null}\r\n`\r\n\r\nconst HomeView: React.FC = () => {\r\n    let history = useHistory()\r\n    const store = Store.useContainer()\r\n    let [inputText, changText] = useState('')\r\n    let [resShow, changShow] = useState(false)\r\n    let [hotList, initList] = useState([])\r\n    let [resList, initRes] = useState([])\r\n    let [noteList, initnote] = useState([])\r\n\r\n    const handleSubmit = function (val: any) {\r\n        \r\n        http.get<any>('search', {\r\n            params: {\r\n                offset: 0,\r\n                type: 1,\r\n                limit: 20,\r\n                keywords: val\r\n            }\r\n        }).then((res: any) => {\r\n            initRes(res.result.songs)\r\n            changShow(true)\r\n           \r\n        }).catch((e: any) => console.log(e))\r\n\r\n        http.get<any>('search', {\r\n            params: {\r\n                offset: 0,\r\n                type: 1000,\r\n                limit: 20,\r\n                keywords: val\r\n            }\r\n        }).then((res: any) => {\r\n            initnote(res.result.playlists)\r\n        }).catch((e: any) => console.log(e))\r\n    }\r\n\r\n    useEffect(() => {\r\n        http.get<any>('search/hot').then((res: any) => {\r\n            initList(res.result.hots)\r\n        }).catch((e: any) => console.log(e))\r\n    }, [])\r\n\r\n    return (<div style={{ position: 'fixed', top: 0, left: 0, height: '100vh', width: '100vw', display: 'inline-block' }}>\r\n        <NavBar\r\n            icon={<Icon type='left'></Icon>}\r\n            onLeftClick={() => { history.go(-1) }}\r\n            style={{ backgroundColor: store.themColor }}\r\n        >\r\n            搜索\r\n        </NavBar>\r\n        <SearchBar onSubmit={value => value?handleSubmit(value):changShow(false)} placeholder=\"搜索你喜欢的歌手或歌曲\" ref={(el: any) => changText(el)} />\r\n        {resShow ? <TabView resList={resList} noteList={noteList} /> : <TagView changShow={handleSubmit} hotList={hotList} />}\r\n    </div>)\r\n}\r\n\r\nconst TabView = function (props: any) {\r\n    const store = Store.useContainer()\r\n    let history = useHistory()\r\n\r\n    const handleSelectSong =async function(item:any){\r\n     let res =   await http.get<any>('song/detail',{params:{ids:item.id}})\r\n     store.setplayInfo(res)\r\n     store.setPlaying(true)\r\n     store.setPause(false)\r\n     store.setStauts('min')\r\n     if(!store.playList.some((song:any) =>song.id===item.id)){\r\n        store.setPlayList([...store.playList,{id:item.id,name:item.name,ar:item.artists[0].name}])\r\n     }\r\n    }\r\n\r\n    const tabs = [\r\n        { title: '单曲', sub: '1' },\r\n        { title: '歌单', sub: '2' },\r\n    ];\r\n    return (\r\n        <div style={{ height: window.innerHeight-89}}>\r\n            <Tabs tabs={tabs}\r\n                tabBarUnderlineStyle={{border:`1px ${store.themColor} solid`}}\r\n                tabBarActiveTextColor={store.themColor}\r\n                initialPage={0}\r\n                onChange={(tab, index) => { console.log('onChange', index, tab); }}\r\n                onTabClick={(tab, index) => { console.log('onTabClick', index, tab); }}\r\n            >\r\n                <div style={{  backgroundColor: '#fff' }}>\r\n                    {props.resList.map((item: any, index: number) => {\r\n                        return (<SongList ids={store.playInfo&&store.isPlaying?store.playInfo.songs[0].id==item.id:false} color={store.themColor} onClick={()=>{handleSelectSong(item)}}  key={index}>\r\n                        <div style={{fontSize:'20px',paddingBottom:'5px'}}>{item.name.length<15?item.name:item.name.slice(0,14)}</div>\r\n                        <div style={{color:'#888'}}>{item.artists[0].name} - {item.album.name}</div>\r\n                    <div>{store.playInfo.id}</div>\r\n                         </SongList>)\r\n                    })}\r\n                </div>\r\n                <div style={{  backgroundColor: '#fff' }}>\r\n                    {props.noteList.map((item: any, index: number) => {\r\n                        return <SongList ids={store.playInfo?store.playInfo.songs[0].id==item.id:false} color={store.themColor} key={index} onClick={() => { history.push({pathname :`/playList/${item.id}`}) }}>\r\n                         <div style={{fontSize:'20px',paddingBottom:'5px'}}>{item.name.length<15?item.name:item.name.slice(0,14)}</div>\r\n                        <div style={{color:'#888'}}>{item.trackCount}首 by {item.creator.nickname} {item.playCount>100000?Math.floor(item.playCount/100000)+'万次':item.playCount+'次'}播放</div>\r\n                        </SongList>\r\n                    })}\r\n                </div>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TagView = function (props: any) {\r\n    return (\r\n        <div>\r\n            {props.hotList.map((item: any, index: number) => {\r\n                return <Tag onChange={(val) => props.changShow(item.first)} style={{ marginLeft: '9px', marginTop: '5px' }} key={index}>{item.first}</Tag>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\nexport default HomeView;","import React from 'react';\r\nimport { NavBar,List,Icon } from 'antd-mobile';\r\nimport styled from 'styled-components'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport  {Store} from \"../../store/index\";\r\n\r\nconst Pcolor = styled.p`\r\n    padding:5px 0;\r\n`\r\n\r\nconst HomeView: React.FC = (p) => {\r\n\r\n    let  history = useHistory()\r\n    const store = Store.useContainer()\r\n\r\n    console.log(p)\r\n\r\n    const colorList = ['e5473c','31c27c','0c8ed9','ff6600','ff87d4']\r\n    return (  <div style={{position:'fixed',top:0,left:0,height:'100vh',width:'100vw',display:'inline-block'}}>\r\n         <NavBar\r\n                icon={<Icon type='left'></Icon>}\r\n                onLeftClick={() => {history.go(-1)}}\r\n                style={{backgroundColor:store.themColor}}\r\n            >\r\n            主题色\r\n        </NavBar>\r\n        <List>\r\n                {colorList.map((item)=>{\r\n                  return  <List.Item onClick={()=>{store.setThem(`#${item}`)}} key={item} style={{backgroundColor:'#'+item}}><Pcolor>{item}</Pcolor></List.Item>\r\n                })}\r\n            \r\n        </List>\r\n    </div>)\r\n}\r\nexport default HomeView;","import React, { useState, useEffect } from 'react';\r\nimport { NavBar, Tag, Icon, SearchBar, Tabs } from 'antd-mobile';\r\nimport { useHistory,useRouteMatch } from \"react-router-dom\";\r\nimport { Store } from \"../../store/index\";\r\n// @ts-ignore\r\nimport http from '../../apis/http'\r\n\r\nimport styled from 'styled-components'\r\n\r\nconst AnimatedWarpper=styled.div`\r\n  \r\n`\r\n// backgroundImage:`url(${listData?.coverImgUrl})`,\r\n\r\ninterface Props1 {\r\n    d: number;\r\n    url:string|undefined\r\n}\r\nconst ImgWarpper=styled.div<Props1>`\r\n    height:${p=>150+p.d}px;\r\n    transition:all .2s;\r\n    overflow: hidden;\r\n    &:after{\r\n        content: '';\r\n        display: block;\r\n        height: 100%;\r\n        background:url('${p=>p.url}');\r\n        background-size: 100%;\r\n        filter: blur(${p=>10-p.d*0.1}px);\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\nconst ImgWarpperContent=styled.div`\r\n    position: absolute;\r\n    width:90%;\r\n    height:120px;\r\n    top: 60px;\r\n    left:5%;\r\n    display: flex;\r\n    flex-direction: row;\r\n`\r\n\r\ninterface Props {\r\n    d: number;\r\n    id:string\r\n}\r\nconst ListWarpper=styled.div<Props>`\r\n    overflow:auto;\r\n    height:calc(100vh - 195px);\r\n    transition-duration:200ms\r\n`\r\n\r\ninterface ResType {\r\n    coverImgUrl: string;\r\n    tracks:Array<any>;\r\n    playCount:number;\r\n    name:string,\r\n    creator:any\r\n}\r\n\r\nconst HomeView: React.FC = () => {\r\n    let history = useHistory()\r\n    let match:any = useRouteMatch()\r\n    const store = Store.useContainer()\r\n    let [listData,InitSongList] = useState<ResType | null>(null)\r\n    let [d,setD] = useState(0)\r\n    let [start,setStart] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async ()=>{\r\n           const data =  await http.get<any>('playlist/detail',{params:{id:match.params.id}})\r\n           console.log(data.playlist)\r\n           InitSongList(data.playlist)\r\n           console.log(listData)\r\n        }\r\n        fetchData()\r\n    }, [])\r\n\r\n    let last_distance = 0;\r\n\r\n    const handleTouchStart = function(e:any){\r\n        e.persist()\r\n        setStart(e.changedTouches[0].pageY)\r\n    }\r\n\r\n    const handleTouchMove = function(e:any){\r\n        e.persist()\r\n        const cur_move = e.changedTouches[0].pageY - start;\r\n        const move_distance = last_distance + cur_move;\r\n        if((move_distance>0)&&(move_distance<150)){\r\n            if(e.nativeEvent.path[1].scrollTop==0){\r\n                setD(move_distance)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleTouchEnd= function(e:any){\r\n        e.persist()\r\n        setD(0)\r\n       \r\n    }\r\n    \r\n    const handleSelectSong =async function(item:any){\r\n        let res =   await http.get<any>('song/detail',{params:{ids:item.id}})\r\n        store.setplayInfo(res)\r\n        store.setPlaying(true)\r\n        store.setPause(false)\r\n        store.setStauts('min')\r\n        console.log(item)\r\n        if(!store.playList.some((song:any) =>song.id===item.id)){\r\n           store.setPlayList([...store.playList,{id:item.id,name:item.name,ar:item.ar[0].name}])\r\n        }\r\n       }\r\n       \r\n    return (<div style={{ position: 'fixed', top: 0, left: 0, height: '100vh', width: '100vw', display: 'inline-block' }}>\r\n        <NavBar\r\n            icon={<Icon type='left'></Icon>}\r\n            onLeftClick={() => { history.go(-1) }}\r\n            style={{ backgroundColor: store.themColor }}\r\n        >\r\n        歌单详情\r\n        </NavBar>\r\n        <AnimatedWarpper  onTouchStart={(e)=>handleTouchStart(e)}  onTouchMove={(e)=>handleTouchMove(e)} onTouchEnd={(e)=>handleTouchEnd(e)}>\r\n            <ImgWarpper d={d} url={listData?.coverImgUrl}>\r\n            </ImgWarpper>\r\n            <ImgWarpperContent>\r\n                <div style={{\r\n                    width:'40%',\r\n                    backgroundImage:`url(${listData?.coverImgUrl})`,\r\n                    backgroundSize: '90%',\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: 'center'\r\n                    }}>\r\n                    <div style={{\r\n                        width:'90%',\r\n                        margin:'0 auto',\r\n                        direction:'rtl',\r\n                        color:'#fff',\r\n                        padding:'10px 0',\r\n                        textIndent:'10px',\r\n                        backgroundColor:'rgba(0,0,0,.2)'\r\n                    }}>\r\n                        {Math.round((listData?.playCount||1)/10000)}万次\r\n                    </div>    \r\n                </div>\r\n                <div style={{flex:'1'}}>\r\n                    <div style={{\r\n                        fontSize:'16px',\r\n                        fontWeight:'normal',\r\n                        color:'#fff'\r\n                    }}>\r\n                    {listData?.name}\r\n                    </div>\r\n                    <div style={{\r\n                        paddingTop:'30px',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                    <img style={{width:'30px',verticalAlign:'middle',borderRadius:'50%'}} src={listData?.creator.avatarUrl} alt=\"头像\"/>{listData?.creator.nickname}\r\n                    </div>\r\n                </div>\r\n            </ImgWarpperContent>\r\n            <ListWarpper id='scroll' d={d}>\r\n                 {listData?.tracks.map((item,index)=>{\r\n                   return <div key={index} style={{padding:'10px'}} onClick={()=>handleSelectSong(item)}>\r\n                        <div style={{fontSize:'20px',paddingBottom:'5px'}}>{item.name.length<15?item.name:item.name.slice(0,20)}</div>\r\n                        <div style={{color:'#888'}}>{item.ar[0].name} - {item.al.name}</div>\r\n                       {/* {item.name} */}\r\n                   </div>\r\n               })}\r\n            </ListWarpper>\r\n              \r\n        </AnimatedWarpper>\r\n\r\n     \r\n    </div>)\r\n}\r\n\r\nexport default HomeView;","import React,{createRef} from 'react';\r\nimport { NavBar,List,Icon } from 'antd-mobile';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport  {Store} from \"../../store/index\";\r\n\r\n// @ts-ignore\r\nconst HomeView: React.FC = ()=>{\r\n    \r\n    let  history = useHistory()\r\n    const store = Store.useContainer()\r\n    const myRef = React.useRef<HTMLDivElement>(null);\r\n\r\n    let height = myRef.current?.clientHeight||0\r\n    let start:any = null;\r\n    let last_distance = 0;\r\n    let distance_border = 100\r\n\r\n\r\n    const handleTouchStart = function(e:any){\r\n        e.persist()\r\n        start = e.changedTouches[0].pageY;\r\n    }\r\n\r\n    const handleTouchMove = function(e:any){\r\n        e.persist()\r\n        const cur_move = e.changedTouches[0].pageY - start;\r\n        const move_distance = last_distance + cur_move;\r\n        let currentTarget = e.currentTarget\r\n        if(move_distance<distance_border&&move_distance>0){\r\n            currentTarget.style.transform=`translateY(${move_distance}px)`\r\n            let box = myRef.current||currentTarget\r\n            box.style.height =`${height+move_distance}px`\r\n            let img = myRef.current?.children[0]||currentTarget\r\n            img.style.transform=`scale(3)`\r\n            console.log()\r\n        }\r\n    }\r\n\r\n    const handleTouchEnd= function(e:any){\r\n        e.persist()\r\n        let currentTarget = e.currentTarget\r\n        currentTarget.style.transform=`translateY(0px)`\r\n        currentTarget.style.transitionDuration=`200ms`\r\n        let box = myRef.current||currentTarget\r\n        box.style.height =`156px`\r\n        currentTarget.style.transform=`height`\r\n        currentTarget.style.transitionDuration=`200ms`\r\n\r\n        let img = myRef.current?.children[0]||currentTarget\r\n        img.style.transform=`scale(1)`\r\n        img.style.transitionDuration=`200ms`\r\n\r\n        \r\n    }\r\n \r\n    return (<div>\r\n       <div ref={myRef} style={{overflow:'hidden'}}>\r\n           <img width='100%' src=\"http://p1.music.126.net/JxRp5J0p8IudOT7Kxomr6A==/109951164933269632.jpg\" alt=\"\"/>\r\n       </div>\r\n       <div onTouchStart={(e)=>handleTouchStart(e)} onTouchMove={(e)=>handleTouchMove(e)} onTouchEnd={(e)=>handleTouchEnd(e)}>\r\n           {[1,2,3,4,5,6,7,8,9,10,11,12,13,14].map((item,index)=>{\r\n               return <p style={{height:'50px'}} key={index}>{item}</p>\r\n           })}\r\n       </div>\r\n    </div>)\r\n}\r\nexport default HomeView;","// 补0函数\r\nexport const addZero = s => {\r\n    return s < 10 ? '0' + s : s\r\n}\r\n\r\n// 播放时间\r\nexport const formatTime = s => {\r\n    let minute = Math.floor(s / 60)\r\n    let second = Math.floor(s % 60)\r\n    return `${addZero(minute)}:${addZero(second)}`\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Store } from \"../../store/index\";\r\nimport http from '../../apis/http'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nimport play from '../../static/play.svg'\r\nimport puase from '../../static/puase.svg'\r\nimport setting from '../../static/setting.svg'\r\nimport playb from '../../static/playb.svg'\r\nimport next from '../../static/next.svg'\r\nimport pauseb from '../../static/pauseb.svg'\r\nimport pre from '../../static/pre.svg'\r\nimport loop from '../../static/loop.svg'\r\nimport needle from '../../static/needle.png'\r\n\r\nimport { Icon } from 'antd-mobile';\r\nimport { formatTime} from '../../utils/utils'\r\n\r\n\r\ninterface Props {\r\n    isFull: string;\r\n}\r\n\r\nconst PlayerWarpper = styled.div<Props>`\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100vw;\r\n    height: ${p => p.isFull !== 'min' ? '100' : '8'}vh;\r\n    transition: height 100ms;\r\n\r\n`\r\nconst FullPlayer = styled.div`\r\n    height: 100%;\r\n    background-color: rgba(0,0,0,.6);\r\n    color:#fff\r\n`\r\n\r\nconst FullPlayerHeader = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    width:100%;\r\n    height: 8vh;\r\n    z-index:2;\r\n    display:flex;\r\n    & > .icon{\r\n        width:15vw;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    & > .title{\r\n        flex:1;\r\n        display: flex;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n    }\r\n`\r\n\r\ninterface ImgP {\r\n    bgImg: string;\r\n    isRotate: boolean\r\n}\r\n\r\nconst rotate = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst FullPlayerContent = styled.div<ImgP>`\r\n    height: 77vh;\r\n    &:after{\r\n        content:'';\r\n        height:100%;\r\n        display:block;\r\n        background-image:url(${(p) => p.bgImg}?param=200y200);\r\n        filter: blur(2.77778vw);\r\n        transform: scale(1.5);\r\n        background-position: 50%;\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n    }\r\n    &>.needle{\r\n        position: absolute;\r\n        top:10vh;\r\n        left:50vw;\r\n        z-index:3;\r\n        transform-origin:top left;\r\n        transform:rotate(${(p) => p.isRotate ?'0':'-20'}deg);\r\n        transition:all 1s;\r\n    }\r\n    &>.discBox{\r\n        box-sizing: border-box;\r\n        height:80vw;\r\n        width:80vw;\r\n        position: absolute;\r\n        top:20vh;\r\n        left:10vw;\r\n        z-index: 2;\r\n        border-radius: 50%;\r\n        border: 50px solid #000;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        animation: ${rotate} 5s linear infinite;\r\n        animation-play-state:${(p) => p.isRotate ? 'play' : 'paused'};\r\n        & >img{\r\n            border-radius: 50%;\r\n        }\r\n    }\r\n`\r\ninterface timeProps {\r\n    prcent: number;\r\n    color:string\r\n}\r\n\r\nconst FullPlayerPorcess = styled.div<timeProps>`\r\n    position: absolute;\r\n    bottom: 12vh;\r\n    height: 5vh;\r\n    width:100%;\r\n    display: flex;\r\n    line-height: 5vh;\r\n    justify-content: center;\r\n    & > .porcessBar{\r\n        position: relative;\r\n        width:70%;\r\n        height: 5px;\r\n        background-color: #9f9898;\r\n        margin-top: 15px;\r\n        border-radius: 2px;\r\n         &::after{\r\n            content:'';\r\n            position: absolute;\r\n            top:0;\r\n            left:0;\r\n            height: 5px;\r\n            width:${p=>p.prcent*100}%;\r\n            background-color:${p=>p.color};\r\n        }\r\n    }\r\n`\r\n\r\nconst FullPlayerFooter = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    width:100%;\r\n    height: 12vh;\r\n    display: flex;\r\n    & > div{\r\n        flex:1;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        &>img{\r\n            width:50px\r\n        }\r\n    }\r\n`\r\n\r\nconst MiniPlayer = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    display: flex;\r\n    height: 48px;\r\n    padding:5px;\r\n    background-color: #fff;\r\n    & > .left,.right{\r\n        width:13%;\r\n        & >img{\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n    &>.center{\r\n        flex:1;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        & > .info{\r\n            padding-left:20px\r\n        }\r\n        & > .info div{\r\n            padding-top:5px\r\n        }\r\n    }\r\n`\r\nconst ListPlayer = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: rgba(0,0,0,.6);\r\n    color:#fff\r\n    z-index:99\r\n`\r\n\r\n\r\ninterface activeProps {\r\n    ids: number;\r\n    color:string\r\n}\r\n\r\nconst ListWarpper = styled.div<activeProps>`\r\n   position: absolute;\r\n    bottom: 0;\r\n    height:60%;\r\n    width: 100%;\r\n    background-color:#fff;\r\n    border-radius: 15px 15px 0 0;\r\n    padding:15px;\r\n    box-sizing:border-box;\r\n    &>.ListHeader{\r\n        height: 6vh;\r\n        border-bottom: 1px solid #eee;\r\n        line-height:6vh;\r\n        font-size:16px\r\n    }\r\n    & >div{\r\n        overflow: scroll;\r\n        height: 50vh;\r\n    }\r\n    &> div .ListContent{\r\n        height: 8vh;\r\n        border-bottom: 1px solid #eee;\r\n        line-height:8vh;\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    &> div .activeList{\r\n        height: 8vh;\r\n        border-bottom: 1px solid #eee;\r\n        line-height:8vh;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        color:${(p)=>p.color}\r\n    }\r\n\r\n`\r\n\r\n\r\nconst Player: React.FC = () => {\r\n    const store = Store.useContainer()\r\n    const audioEl = useRef<HTMLAudioElement>(null)\r\n    const { songs } = store.playInfo\r\n    // console.log(songs)\r\n    const [nowTime,setTime] = useState(0)\r\n \r\n    const MiniPlayer1 = <MiniPlayer>\r\n        <div className={'left'}>\r\n            <img width={'100%'} height={'100%'} onClick={() => store.setStauts('full')} src={songs[0].al.picUrl} alt=\"\" />\r\n        </div>\r\n        <div className={'center'}>\r\n            <div className={'info'}>\r\n                <div>\r\n                    {songs[0].name}\r\n                </div>\r\n                <div style={{ color: '#888' }}>\r\n                    {songs[0].ar[0].name}\r\n                </div>\r\n            </div>\r\n            <div className={'btn'} onClick={() => store.setPause(!store.isPause)}>\r\n                <img height={'40px'} style={{ marginTop: ' 10%' }} src={!store.isPause ? play : puase} alt=\"\" />\r\n            </div>\r\n        </div>\r\n        <div className={'right'} style={{ textAlign: 'center' }} onClick={() => store.setStauts('list')}>\r\n            <img height={'60%'} style={{ marginTop: '20%' }} src={setting} alt=\"\" />\r\n        </div>\r\n    </MiniPlayer>\r\n\r\nconst handleNext =async function(){\r\n    console.log(store.playInfo.privileges)\r\n    console.log(store.playList)\r\n\r\n    let itemIndex = 0\r\n    store.playList.forEach((item:any,index:number)=>{\r\n        console.log(item.id==store.playInfo.privileges[0].id)\r\n        if(item.id==store.playInfo.privileges[0].id){\r\n            itemIndex=index\r\n        }\r\n    })\r\n\r\n    if(itemIndex<store.playList.length-1){\r\n        let res =  await http.get<any>('song/detail',{params:{ids:store.playList[itemIndex+1].id}})\r\n        store.setplayInfo(res)\r\n        store.setPlaying(true)\r\n        store.setPause(false)\r\n    }else{\r\n        console.log('到底')\r\n        return\r\n    }\r\n    console.log(itemIndex)\r\n    \r\n}\r\n\r\nconst handlePre =async function(){\r\n    let itemIndex = 0\r\n    store.playList.forEach((item:any,index:number)=>{\r\n        console.log(item.id==store.playInfo.privileges[0].id)\r\n        if(item.id==store.playInfo.privileges[0].id){\r\n            itemIndex=index\r\n        }\r\n    })\r\n\r\n    if(itemIndex>0){\r\n        let res =  await http.get<any>('song/detail',{params:{ids:store.playList[itemIndex-1].id}})\r\n        store.setplayInfo(res)\r\n        store.setPlaying(true)\r\n        store.setPause(false)\r\n    }else{\r\n        console.log('到头')\r\n        return\r\n    }\r\n    console.log(itemIndex)\r\n    \r\n}\r\n\r\n    const FullPlayer1 = <FullPlayer>\r\n        <FullPlayerHeader>\r\n            <div className={'icon'} onClick={() => store.setStauts('min')}>\r\n                <Icon type='left'></Icon>\r\n            </div>\r\n            <div className={'title'}>\r\n                <div style={{ fontSize: '16px' }}>\r\n                    {songs[0].name}\r\n                </div>\r\n                <div >\r\n                    {songs[0].ar[0].name}\r\n                </div>\r\n            </div>\r\n        </FullPlayerHeader>\r\n        <FullPlayerContent bgImg={songs[0].al.picUrl} isRotate={!store.isPause}>\r\n            <div className='needle'>\r\n                <img width={'50%'} src={needle} alt=\"\"/>\r\n            </div>\r\n            <div className=\"discBox\">\r\n                <img src={`${songs[0].al.picUrl}?param=200y200`} alt=\"\" />\r\n            </div>\r\n        </FullPlayerContent>\r\n        {\r\n        audioEl.current?\r\n        <FullPlayerPorcess color={store.themColor} prcent={nowTime/audioEl.current?.duration}>\r\n        <div>{formatTime(nowTime)}</div>\r\n        <div className={'porcessBar'}></div>\r\n        <div>{formatTime(audioEl.current?.duration)}</div>\r\n        </FullPlayerPorcess>:<p></p>\r\n        }\r\n        <FullPlayerFooter>\r\n            <div><img src={pre} alt=\"\"   onClick={() =>handlePre()} /></div>\r\n            <div><img src={!store.isPause ? pauseb : playb} onClick={() => store.setPause(!store.isPause)} alt=\"\" /></div>\r\n            <div><img src={next}  alt=\"\" onClick={() =>handleNext()} /></div>\r\n            <div><img src={loop} alt=\"\" /></div>\r\n        </FullPlayerFooter>\r\n    </FullPlayer>\r\n\r\n\r\nconst handleSelectSong =async function(id:any){\r\n    let res =   await http.get<any>(`song/detail?ids=${id}`)\r\n    store.setplayInfo(res)\r\n    store.setPlaying(true)\r\n    store.setPause(false)\r\n   }\r\nconst handleDelSong = function(id:number){\r\n    let  list = store.playList.filter((item:any)=>item.id!==id)\r\n    console.log(list)\r\n    store.setPlayList(list) \r\n    if(list.length){  \r\n        store.setPause(true)\r\n    }else{\r\n        store.setPlaying(false)\r\n        store.setStauts('min')\r\n        console.log(store.playList)\r\n\r\n    }\r\n}\r\n\r\n    const ListPlayer1 = <ListPlayer>\r\n        <div style={{height:'40%'}} onClick={()=>store.setStauts('min')}></div>\r\n        <ListWarpper id={'ListWarpper'} ids={songs.id} color={store.themColor}>\r\n        <div className={'ListHeader'}>当前收藏曲数:{store.playList.length}</div>\r\n        <div >\r\n          {store.playList.map((item:any,index:number)=>{\r\n            return <div className={songs[0].id===item.id?'activeList':'ListContent'} key={index}><div onClick={()=>handleSelectSong(item.id)}>{item.name} <span>-{item.ar}</span></div><div onClick={()=>handleDelSong(item.id)} style={{width: '50px'}}>x</div></div>\r\n            })}  \r\n        </div>\r\n        </ListWarpper>\r\n    </ListPlayer>\r\n\r\n    const showComponent: any = {\r\n        'min': MiniPlayer1,\r\n        'full': FullPlayer1,\r\n        'list': ListPlayer1\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(store.isPause)\r\n        if (store.isPause) {\r\n            audioEl.current?.pause()\r\n        } else {\r\n            audioEl.current?.play()\r\n        }\r\n    })\r\n\r\n    const hanldePlaying = function(e:any,target:any){\r\n       setTime(target.current?.currentTime)\r\n    }\r\n    return (<PlayerWarpper isFull={store.showStauts}>\r\n        {showComponent[store.showStauts]}\r\n        <audio onTimeUpdate={()=>hanldePlaying('$e',audioEl)} ref={audioEl} src={`https://music.163.com/song/media/outer/url?id=${songs[0].id}.mp3`}></audio>\r\n    </PlayerWarpper>)\r\n}\r\nexport default Player;","import React, { lazy, Suspense } from 'react';\n// import logo from './logo.svg';\nimport { HashRouter, Route, Switch,withRouter } from 'react-router-dom'\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport Loading from '../component/loading'\nimport SearchView from '../pages/search/search'\nimport SkinView from '../pages/skin/skin'\nimport PlayListView from '../pages/playList/playList'\nimport scrollView from '../pages/srcollPage/index'\nimport Player from '../component/player/index'\nimport './App.css';\nimport { Store } from \"../store/index\";\n\nconst HomeView = lazy(() => import('./home/home'))\nconst MusicView = lazy(() => import('./music/music'))\nconst TestView = lazy(() => import('./transitonPage/index'))\n\n// const SkinView = lazy(() => import('./skin/skin'))\n\nconst App: React.FC = (p) => {\n    let store  =  Store.useContainer()\n\n  return (\n    <HashRouter >\n      <Suspense fallback={<Loading />}>\n      <AnimationApp></AnimationApp>\n      </Suspense>\n      {store.isPlaying?<Player></Player>:null} \n    </HashRouter>\n  )\n}\n\nconst AnimationApp = withRouter(({location,history}) => (\n\n  <TransitionGroup className={'router-wrapper'}\n  childFactory={child => React.cloneElement(\n    child,\n    {classNames: history.action==='POP'?'back':'forward'}  //通过Actions 判断使用何种动画\n  )}\n  >\n    <CSSTransition\n      timeout={500}\n      classNames={'fade'}\n      key={location.pathname}\n    >\n       \n      <Switch location={location}> \n      //TransitionGroup组件虽然会保留即将被remove的Switch节点，但是当location变化时，旧的Switch节点会用变化后的location去匹配其children中的路由。由于location都是最新的，所以两个Switch匹配出来的页面是相同的。好在我们可以改变Switch的location属性，\n      <Route path=\"/\" exact component={HomeView} >\n            </Route>\n            <Route path=\"/music\" component={MusicView} >\n            </Route>\n            <Route path=\"/skin\" component={SkinView} >\n            </Route>\n            <Route path=\"/test\" component={TestView} >\n            </Route>\n            <Route path=\"/search\" component={SearchView} >\n            </Route>\n            <Route path=\"/playList/:id\" component={PlayListView} >\n            </Route>\n            <Route path=\"/scroll\" component={scrollView} >\n            </Route>\n      </Switch>\n    </CSSTransition>\n  </TransitionGroup>\n\n  \n));\n\n\n// function AnimationApp() {\n//   let location = useLocation(); //useLocation不能跟Router在同一组件内\n//   console.log(location)\n//   return (\n//     <div>\n//       <TransitionGroup>\n//         <CSSTransition\n//           key={location.key}\n//           classNames=\"fade\"\n//           timeout={500}\n//         >\n//           <Switch location={location}>\n//             <Route path=\"/\" exact component={HomeView} >\n//             </Route>\n//             <Route path=\"/music\" component={MusicView} >\n//             </Route>\n//             <Route path=\"/skin\" component={SkinView} >\n//             </Route>\n//             <Route path=\"/test\" component={TestView} >\n//             </Route>\n//           </Switch>\n//         </CSSTransition>\n//       </TransitionGroup>\n//     </div>\n//   );\n// }\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd-mobile/dist/antd-mobile.css'; \nimport {Store} from './store/index'\nimport App from './pages/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n <Store.Provider>\n    <App /> \n </Store.Provider>\n\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}